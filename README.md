# 線上測驗系統 (Online Exam System)

一個基於 Web 的線上測驗系統，支援 JSON 格式題庫匯入、隨機出題、計時考試、複習模式和詳細解析等功能。

## ? 功能特色

### ? 核心功能
- **JSON 題庫匯入**：支援自定義 JSON 格式的題庫文件
- **隨機出題**：從題庫中隨機選擇指定數量的題目
- **多選題支援**：支援單選和多選題型
- **計時功能**：自動計時，追蹤考試時間
- **進度追蹤**：即時顯示答題進度和完成百分比

### ? 學習輔助
- **複習模式**：查看所有題目和正確答案
- **錯題回顧**：考試結束後顯示答錯的題目
- **詳細解析**：支援 Markdown 格式的題目解析說明
- **一鍵切換**：可快速顯示/隱藏所有解析內容

### ? 使用者體驗
- **響應式設計**：適配桌面和行動裝置
- **直觀界面**：清晰的視覺設計和流暢的操作體驗
- **題目標記**：可標記重要或疑難題目
- **彈性設定**：可自由選擇考試題數

## ?? 檔案結構

```
ExamSys/
├── exam-web.html          # 主要 HTML 檔案
├── script.js              # JavaScript 核心邏輯
├── styles.css             # CSS 樣式檔案
├── README.md              # 說明文件
└── [題庫檔案]
    ├── DEA_questions_Q242.json
    ├── SAA-C03.json
    ├── AIF-C01.json
    └── ...
```

## ? 快速開始

### 1. 環境需求
- 現代網頁瀏覽器（Chrome, Firefox, Safari, Edge）
- 無需額外軟體安裝

### 2. 啟動系統
1. 直接開啟 `exam-web.html` 檔案
2. 或透過本地伺服器運行（推薦）

### 3. 匯入題庫
1. 點擊「匯入考題」按鈕
2. 選擇符合格式的 JSON 題庫檔案
3. 系統會自動驗證並載入題目

### 4. 開始考試
1. 點擊「進行測驗」
2. 選擇考試題數
3. 開始答題

## ? 題庫格式規範

### JSON 檔案結構
```json
{
  "Q1": {
    "Question": "題目內容",
    "Options": {
      "A": "選項 A 內容",
      "B": "選項 B 內容",
      "C": "選項 C 內容",
      "D": "選項 D 內容"
    },
    "Answer": ["A"],
    "explanation": [
      "詳細解析內容，支援 Markdown 格式",
      "? 正確選項說明",
      "? 錯誤選項說明"
    ]
  },
  "Q2": {
    // 更多題目...
  }
}
```

### 欄位說明
- **Question**：題目內容（必填）
- **Options**：選項對象，鍵為選項編號，值為選項內容（必填）
- **Answer**：正確答案陣列，支援多選（必填）
- **explanation**：解析內容陣列，支援 Markdown 格式（選填）

### 解析格式支援
- **粗體**：`**文字**` → **文字**
- **斜體**：`*文字*` → *文字*
- **特殊符號**：????? 會自動套用顏色
- **換行**：支援 `\r\n` 和標準換行符

## ? 使用說明

### 考試模式
1. **答題**：點擊選項或選項框進行選擇
2. **導航**：使用「上一題」/「下一題」按鈕
3. **標記**：使用右上角開關標記重要題目
4. **檢視**：最後一題自動進入檢視畫面
5. **提交**：確認無誤後點擊「確認提交」

### 複習模式
1. 匯入題庫後點擊「複習題目」
2. 查看所有題目和正確答案
3. 點擊「顯示解析」查看詳細說明

### 錯題回顧
1. 考試結束後自動顯示錯題
2. 包含正確答案和使用者答案對比
3. 點擊「顯示解析」查看詳細解釋

## ?? 技術特色

### 前端技術
- **純 HTML/CSS/JavaScript**：無需框架，輕量高效
- **模組化設計**：功能分離，便於維護
- **記憶體管理**：智慧快取和清理機制

### 效能優化
- **分批處理**：大型題庫分批載入，避免卡頓
- **DocumentFragment**：批次 DOM 操作，提升性能
- **RequestAnimationFrame**：流暢的動畫和更新

### 資料處理
- **隨機排序**：題目和選項順序隨機化
- **狀態管理**：完整的考試狀態追蹤
- **錯誤處理**：完善的異常處理機制

## ? 自定義設定

### 修改題數範圍
在 `script.js` 中修改 `QUESTION_RANGE`：
```javascript
var QUESTION_RANGE = {
    MIN: 1,    // 最少題數
    MAX: 65    // 最多題數（會自動更新為實際題庫數量）
};
```

### 自定義樣式
修改 `styles.css` 中的相關樣式：
- 主題色彩
- 字體大小
- 間距設定
- 動畫效果

## ? 常見問題

### Q: 匯入題庫失敗怎麼辦？
A: 請檢查 JSON 格式是否正確，必要欄位是否完整。

### Q: 為什麼題目數量與檔名不符？
A: 檔案中可能有缺失的題號，系統會顯示實際匯入的題目數量。

### Q: 如何新增更多題型？
A: 目前支援多選題，如需其他題型請修改驗證邏輯。

### Q: 解析不顯示怎麼辦？
A: 確認 JSON 檔案中包含 `explanation` 欄位，並點擊「顯示解析」按鈕。

## ? 版本歷史

### v1.2.0 (2025-07-23)
- Author:Joy
- ? 新增詳細解析功能
- ? 支援 Markdown 格式
- ? 一鍵顯示/隱藏解析
- ? 優化解析區域樣式

### v1.1.0
- Author:Ray
- ? 複習模式
- ? 錯題回顧
- ? 題目標記功能
- ? 進度追蹤

### v1.0.0
- Author:Ray
- ? 基礎考試功能
- ? JSON 題庫匯入
- ? 隨機出題
- ? 計時功能

### 開發建議
1. 保持程式碼風格一致
2. 新增功能請包含適當的錯誤處理
3. 更新相關文件和註解
4. 測試不同瀏覽器的兼容性

---

**享受學習，持續進步！** ??
